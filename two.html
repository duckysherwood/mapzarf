<html>
  <head>
    <title>Mercator and Cartographic Map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/thirdparty/leaflet/Leaflet-0.6.4/leaflet.css">
    <link rel="stylesheet" href="./taxRoi.css">
  </head>
  <body>

     <div id="map"></div>
     <div id="legend">
       <img id="legendImage" src="http://maps.webfoot.com/tiles/clearTile.png"
            alt="Legend">
     </div>
     <div id="sidebar">
       <p id="explanation"></p>

       In the cartogram, a state's area is proportional to the state's 
       population.

       <a id="sharingUrl" href="">Shareable link to this view</a><p />

       <div id="polygonLayers"></div>
       <div id="dotLayers"></div>
       <div id="borderLayers"></div>
       
     </div>
  
    <script type="text/javascript" 
            src="/thirdparty/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="./omni.js"></script>
    <script type="text/javascript" src="./DomCreator.js"></script>
  
    <script type="text/javascript">

      $(document).ready(function() {

        var domCreator = new DomCreator(mapApplicationInfo)

// this needs to move into DomCreator
        document.title = mapApplicationInfo.pageTitle
        
        $( '#explanation').html( "<b>" 
                             + mapApplicationInfo.pageTitle + "</b><p>" 
                             + mapApplicationInfo.pageDescription + "<p>")

        
        // Add the dot layer selector (if needed)
        var dotSelector = domCreator.createLayerSelectorControl("dotLayers")
        $( '#dotLayers' ).append(dotSelector)

        var polygonSelector = domCreator.
                                  createLayerSelectorControl('polygonLayers')
        $( '#polygonLayers' ).append(polygonSelector)

        var borderSelector = domCreator.
                                 createLayerSelectorControl('borderLayers')
        $( '#borderLayers' ).append(borderSelector)

        // TODO Add the city names checkbox

        // @@@ TODO load this with the actual shareable link
        // @@@ TODO this needs to go AFTER the shareable link is correct
        $( '#sharingUrl' )[0].href = 'http://maps.webfoot.com'
      });
    </script>

  </body>
</html>
